{# # This file is part of the YesWiki Extension stats.
# Authors : see README.md file that was distributed with this source code.
# For the full copyright and license information, please view the LICENSE
# file that was distributed with this source code. #}


{{ include_javascript('javascripts/vendor/datatables-full/jquery.dataTables.min.js') }}
{{ include_css('styles/vendor/datatables-full/dataTables.bootstrap.min.css') }}
{{ include_javascript('javascripts/vendor/vue/vue.js') }}
{{ include_javascript('tools/stats/javascripts/stats.js',false,true) }}
{{ include_css('tools/stats/styles/stats.css',) }}

<div class="stats-container">
    <h2>{{ _t('STATS_TITLE') }}</h2>
    <div v-if="message.length > 0" v-html="message" :class="messageClass"></div>
    <div v-if="!typesEmpty" class="input-group mb-3 col-sm-5 pull-left">
        <div class="input-group-prepend no-flex-shrink">
            <span class="input-group-text">{{ _t('STATS_SELECT_TYPES') }}&nbsp;:&nbsp;</span>
        </div>
        <select class="form-control" v-if="ready" ref="chooseType" v-model="currentType" name="chooseType">
            <option value=""></option>
            <option v-for="(label,type) in formTypes" :value="type" v-html="label"></option>
        </select>
    </div>
    <table ref="dataTable" class="table-striped"></table>
    <spinner-loader v-if="!ready" :height="500"><spinner-loader>
</div>
